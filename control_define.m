w = logspace(-3,5,1000);%frequency of considering range
numP = 200;             %number of real plants
p0 = [0;0;0];           %initial posture of machine
limit = [-5 5; -5 5];   %limitation of field
Qv = diag([10000 10000 10000 1*ones(1,ell)]);
Rv = diag([1*ones(1,ell)]);
Kvd = lqrd(A,B,Qv,Rv,dt_simvel);
Kv = lqr(A,B,Qv,Rv);
system = ss(A,B,eye(size(A)),zeros(size(B)));
L = loopsens(system,Kv);
Qp = diag([100000 100000 100000 1*ones(1,ell)]);
Rp = diag([10*ones(1,3) 1*ones(1,ell)]);
Kpd = lqrd(L.To.a,L.To.b,Qp,Rp,dt_simvel);
Kp = lqr(L.To.a,L.To.b,Qp,Rp);
